-------------Loss------------

if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/loss/incidentproposalall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/loss/incidentproposalall',
(select menu_id from config_menu where LINK = '/loss/losscapture'))
end




/*ApiEntity insertion*/
if not exists(select * from config_apiforentityname where API='/api/loss/newincidentreportall')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/newincidentreportall','systemx.api.model.loss',
(select top 1 MENU_ID from config_menu where MENU_KEY = 'LD_DI' order by MENU_ID desc))
end

/*ApiEntity insertion*/
if not exists(select * from config_apiforentityname where API='/api/loss/LinkIncidentProposal')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/LinkIncidentProposal','systemx.api.model.loss',
(select top 1 MENU_ID from config_menu where MENU_KEY = 'LD_AIP' order by MENU_ID desc))
end


/*ApiEntity insertion*/
if not exists(select * from config_apiforentityname where API='/api/loss/newincidentreportall')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/newincidentreportall','systemx.api.model.loss',
(select top 1 MENU_ID from config_menu where MENU_KEY = 'LD_DI' order by MENU_ID desc))
end

/*ApiEntity insertion*/
if not exists(select * from config_apiforentityname where API='/api/loss/LinkIncidentProposal/')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/LinkIncidentProposal','systemx.api.model.loss',
(select top 1 MENU_ID from config_menu where MENU_KEY = 'LD_AIP' order by MENU_ID desc))
end


-------------Loss------------

if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/loss/incidentproposalall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/loss/incidentproposalall',
(select menu_id from config_menu where LINK = '/loss/losscapture'))
end
if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/getincidentreportsall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/getincidentreportsall',
(select menu_id from config_menu where Link='/lossmanagement/lossmanagementlisting'))
end


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/getincidentreportsallreports')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/getincidentreportsallreports',
(select menu_id from config_menu where Link='/lossmanagement/lossmanagementlisting'))
end


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/loss/incidentproposalallreports')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/loss/incidentproposalallreports',
(select menu_id from config_menu where Link='/loss/losscapture'))
end

if not exists
(select * from config_apiforentityname where API='/api/loss/attributionall')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/attributionall',null,
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossmanagement'))
end


--/api/dynamic/
if not exists
(select * from config_apiforentityname where API='/api/dynamic')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/dynamic',null,
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossComment'))
end


--/api/loss/incidentreportdocs
if not exists
(select * from config_apiforentityname where API='/api/loss/incidentreportdocs')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/incidentreportdocs',null,
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossmanagement'))
end

--/api/loss/comments
if not exists
(select * from config_apiforentityname where API='/api/loss/comments')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/comments',null,
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossmanagement'))
end

--/api/loss/attribution
if not exists
(select * from config_apiforentityname where API='/api/loss/attribution')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/attribution',null,
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossmanagement'))
end


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/dynamic/LD')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/dynamic/LD',
(select menu_id from config_menu where LINK ='/lossmanagement/lossComment'))
end 

if not exists
(select * from config_apiforentityname where API='/api/loss/manualNotificationIncidentReport')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/manualNotificationIncidentReport',null,
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossmanagement'))
end

if not exists
(select * from config_apiforentityname where API='/api/loss/classification')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/classification','systemx.api.model.loss.IncidentReport',
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossmanagement'))
end


if not exists(select * from config_apiforentityname where API='/api/loss/incidentreport')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/incidentreport','systemx.api.model.loss.IncidentReport',
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossmanagement'))
end

if not exists(select * from config_apiforentityname where API='/api/loss/incidentreportlinkki')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/incidentreportlinkki','systemx.api.model.loss.IncidentReportLinkKISetup',
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossmanagement'))
end

if not exists(select * from config_apiforentityname where API='/api/loss/getlossamountsbyincidentandrecoverytype')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/getlossamountsbyincidentandrecoverytype','systemx.api.model.loss.LossAmount',
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossmanagement'))
End

if not exists(select * from config_apiforentityname where API='/api/loss/incidentreportlinkincidentreport')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/incidentreportlinkincidentreport','systemx.api.model.loss.IncidentReportLinkIncidentReport',
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossmanagement'))
end

if not exists(select * from config_apiforentityname where API='/api/loss/incidentReportLinkRisk')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/incidentReportLinkRisk','systemx.api.model.loss.IncidentReportLinkRisk',
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossmanagement'))
end

if not exists(select * from config_apiforentityname where API='/api/loss/incidentreportlinkrcsacontrol')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/incidentreportlinkrcsacontrol','systemx.api.model.loss.IncidentReportLinkRCSAControl',
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossmanagement'))
end



if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/loss/lossamount')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/loss/lossamount',
(select menu_id from config_menu where LINK='/lossmanagement/lossmanagement'))
end 

if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/loss/incidentreportlinkproductall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/loss/incidentreportlinkproductall',
(select menu_id from config_menu where Link='/config/product'))
end


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/losscontrolstatusall')
begin
insert into CONFIG_APIFORENTITYNAME(API,ENTITYNAME,MENU_ID) values('/api/config/losscontrolstatusall',
'systemx.api.model.config.loss',
(select menu_id from config_menu where DISPLAYNAME = 'LOSS CONTROL STATUS'))
end
delete CONFIG_APIFORENTITYNAME where API= '/api/config/losscontrolstatus'	

if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/losscontrolstatus')
begin
insert into CONFIG_APIFORENTITYNAME(API,ENTITYNAME,MENU_ID) values('/api/config/losscontrolstatus',
'systemx.api.model.config.loss',
(select menu_id from config_menu where DISPLAYNAME = 'LOSS CONTROL STATUS'))
end

if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/losstypeall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/losstypeall',
(select menu_id from config_menu where DISPLAYNAME = 'Loss type'))
end 
if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/losstype')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/losstype',
(select menu_id from config_menu where DISPLAYNAME = 'Loss type'))
end 


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/loss/incidentproposalall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/loss/incidentproposalall',
(select menu_id from config_menu where LINK = '/loss/losscapture'))
end

/*ApiEntity insertion*/
if not exists(select * from config_apiforentityname where API='/api/loss/newincidentreportall')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/newincidentreportall','systemx.api.model.loss',
(select top 1 MENU_ID from config_menu where MENU_KEY = 'LD_DI' order by MENU_ID desc))
end

/*ApiEntity insertion*/
if not exists(select * from config_apiforentityname where API='/api/loss/LinkIncidentProposal/')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/LinkIncidentProposal','systemx.api.model.loss',
(select top 1 MENU_ID from config_menu where MENU_KEY = 'LD_AIP' order by MENU_ID desc))
end

if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/potentiallossall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/potentiallossall',
(select menu_id from config_menu where DISPLAYNAME = 'Potential Loss'))
end


delete from CONFIG_APIFORENTITYNAME where api='/api/config/potentialloss'


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/potentialloss')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/potentialloss',
(select menu_id from config_menu where LINK = '/config/potential_loss'))
end




update CONFIG_APIFORENTITYNAME
set MENU_ID=(select MENU_ID from config_menu where link='/config/potential_loss')
where API='/api/config/potentialloss'


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/potentiallossall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/potentiallossall',
(select menu_id from config_menu where DISPLAYNAME ='Potential Loss'))
end


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/potentialloss')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/potentialloss',
(select menu_id from config_menu where DISPLAYNAME ='Potential Loss'))
end


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/getincidentreportsall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/getincidentreportsall',
(select menu_id from config_menu where Link='/lossmanagement/lossmanagementlisting'))
end


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/getincidentreportsallreports')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/getincidentreportsallreports',
(select menu_id from config_menu where Link='/lossmanagement/lossmanagementlisting'))
end


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/loss/incidentproposalallreports')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/loss/incidentproposalallreports',
(select menu_id from config_menu where Link='/loss/losscapture'))
end

if not exists
(select * from config_apiforentityname where API='/api/loss/attributionall')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/attributionall',null,
(select MENU_ID from config_menu where LINK ='/lossmanagement/lossmanagement'))
end

if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/loss/incidentreportlinkproductall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/loss/incidentreportlinkproductall',
(select menu_id from config_menu where Link='/config/product'))
end

if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/losscontrolstatusall')
begin
insert into CONFIG_APIFORENTITYNAME(API,ENTITYNAME,MENU_ID) values('/api/config/losscontrolstatusall',
'systemx.api.model.config.loss',
(select menu_id from config_menu where DISPLAYNAME = 'LOSS CONTROL STATUS'))
end
delete CONFIG_APIFORENTITYNAME where API= '/api/config/losscontrolstatus'	

if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/losscontrolstatus')
begin
insert into CONFIG_APIFORENTITYNAME(API,ENTITYNAME,MENU_ID) values('/api/config/losscontrolstatus',
'systemx.api.model.config.loss',
(select menu_id from config_menu where DISPLAYNAME = 'LOSS CONTROL STATUS'))
end


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/losstypeall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/losstypeall',
(select menu_id from config_menu where DISPLAYNAME = 'Loss type'))
end 
if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/losstype')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/losstype',
(select menu_id from config_menu where DISPLAYNAME = 'Loss type'))
end 
if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/loss/incidentproposalall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/loss/incidentproposalall',
(select menu_id from config_menu where LINK = '/loss/losscapture'))
end


/*ApiEntity insertion*/
if not exists(select * from config_apiforentityname where API='/api/loss/newincidentreportall')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/newincidentreportall','systemx.api.model.loss',
(select top 1 MENU_ID from config_menu where MENU_KEY = 'LD_DI' order by MENU_ID desc))
end

/*ApiEntity insertion*/
if not exists(select * from config_apiforentityname where API='/api/loss/LinkIncidentProposal/')
begin
Insert into config_apiforentityname(API,ENTITYNAME,MENU_ID)
values('/api/loss/LinkIncidentProposal','systemx.api.model.loss',
(select top 1 MENU_ID from config_menu where MENU_KEY = 'LD_AIP' order by MENU_ID desc))
end

if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/potentiallossall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/potentiallossall',
(select menu_id from config_menu where DISPLAYNAME = 'Potential Loss'))
end


delete from CONFIG_APIFORENTITYNAME where api='/api/config/potentialloss'


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/potentialloss')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/potentialloss',
(select menu_id from config_menu where LINK = '/config/potential_loss'))
end




update CONFIG_APIFORENTITYNAME
set MENU_ID=(select MENU_ID from config_menu where link='/config/potential_loss')
where API='/api/config/potentialloss'


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/potentiallossall')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/potentiallossall',
(select menu_id from config_menu where DISPLAYNAME ='Potential Loss'))
end


if not exists(select * from CONFIG_APIFORENTITYNAME where api='/api/config/potentialloss')
begin
insert into CONFIG_APIFORENTITYNAME(API,MENU_ID) values('/api/config/potentialloss',
(select menu_id from config_menu where DISPLAYNAME ='Potential Loss'))
end

